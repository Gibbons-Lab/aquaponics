---
title: "Plant data"
output: html_notebook
---

Those are just some visualizations for plant growth across the tanks. 

```{r}
library(data.table)

plants <- fread("data/plant_data_clean.csv")
plants[, date := as.Date(date)]
plants[, inoculum := "established"]
plants[tank %in% 1:3, inoculum := "commercial"]
```

## Time courses

```{r}
sampled <- plants[sample != "Growth Bed"]
sampled[, date := as.Date(date)]
```

Height Growth bed

```{r}
ggplot(plants[sample == "Growth Bed" & !is.na(height_avg)], 
       aes(x = date, y = height_avg, col = inoculum)) + 
  geom_point() + stat_summary(aes(group = tank), fun.y = mean, geom = "line") + 
  labs(y="average height [cm]", color="tank")
ggsave("figures/plant_height_avg.svg")
```


Root length growth bed

```{r, fig.width=6, fig.height=4}
ggplot(bed, aes(x = inoculum, y = value, col = inoculum)) +
  geom_boxplot(width = 0.6) + geom_jitter(width=0.2) +
  facet_wrap(~ variable, scales = "free_y") +
  labs(y="", x="", color="") + guides(color=FALSE) +
ggsave("figures/plant_metrics.svg")
```

Corresponding tests:

```{r}
bed[, .(pval = wilcox.test(value ~ inoculum)$p.value, n = .N), by = "variable"]
```